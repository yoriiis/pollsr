!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var s in n)("object"==typeof exports?exports:t)[s]=n[s]}}(window,(function(){return function(t){var e={};function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/scripts/index.js")}({"./src/scripts/index.js":function(t,e,n){"use strict";n.r(e);var s=n("./src/scripts/pollsr-core.js");n.d(e,"PollsrCore",(function(){return s.default}));var o=n("./src/scripts/pollsr-template.js");n.d(e,"PollsrTemplate",(function(){return o.default}))},"./src/scripts/pollsr-core.js":function(t,e,n){"use strict";n.d(e,"default",(function(){return o}));var s=n("./src/scripts/pollsr-template.js");class o{constructor(t){const e=t||{};this.options=Object.assign({element:null,template:null,datas:null,hasVoted:!1,onAction:null},e)}create(){if(null===this.options.template&&(this.options.template=new s.default),"function"!=typeof this.options.template.init)throw new Error('Pollsr::PollsrTemplate need an "init" function.');this.initTemplate()}initTemplate(){this.options.template.init({options:this.options})}destroy(){this.options.template.destroy()}}},"./src/scripts/pollsr-template.js":function(t,e,n){"use strict";n.d(e,"default",(function(){return s}));n("./src/styles/base.css");class s{constructor(){var t,e,n;n=async t=>{t.preventDefault(),this.options.hasVoted||(this.options.hasVoted=!0,"function"==typeof this.options.onAction&&(this.currentAnswer=t.target.getAttribute("data-answer-id"),await this.options.onAction(this.currentAnswer),this.updateTemplateAfterVote()))},(e="clickToRespond")in(t=this)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}init({options:t}){this.options=t,this.buildDOM(this.getTemplate(this.options.datas)),this.addEvents(),this.options.hasVoted&&this.updateTemplateAfterVote()}getTemplate(t){return`<div class="pollsr${this.options.hasVoted?" has-voted":""}">\n\t\t\t\t\t<p class="pollsr-question">${t.question}</p>\n\t\t\t\t\t<ul class="pollsr-answers">\n\t\t\t\t\t\t${this.getAnswersList(t.answers)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>`}getAnswersList(t){let e="";return t.forEach(t=>{let n="";t.image&&(n=`<div class="pollsr-picture">\n\t\t\t\t\t\t\t<img src="${t.image}" alt="${t.title}" />\n\t\t\t\t\t\t</div>`),e+=`<li class="pollsr-answerItem">\n\t\t\t\t\t\t<button class="pollsr-button" data-answer-id="${t.id}" data-pollsr-respond>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t${n}\n\t\t\t\t\t\t\t\t<figcaption>\n\t\t\t\t\t\t\t\t\t<p>${t.title}</p>\n\t\t\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>`}),e}buildDOM(t){this.options.element.insertAdjacentHTML("beforeend",t)}addEvents(){this.onClickToElement=t=>{const e=t.target;"button"===e.nodeName.toLowerCase()&&e.hasAttribute("data-pollsr-respond")&&this.clickToRespond(t)},this.options.element.addEventListener("click",this.onClickToElement,!1)}updateTemplateAfterVote(){this.options.element.querySelector(".pollsr").classList.add("has-voted")}destroy(){this.options.element.removeEventListener("click",this.onClickToElement),this.options.element.removeChild(this.options.element.querySelector(".pollsr"))}}},"./src/styles/base.css":function(t,e,n){}})}));